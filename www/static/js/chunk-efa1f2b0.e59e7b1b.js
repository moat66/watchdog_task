(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efa1f2b0"],{"26cb":function(e,t,a){},"64c2":function(e,t,a){"use strict";var s=a("6c42"),o=a.n(s);o.a},"6c42":function(e,t,a){},"6d14":function(e,t,a){"use strict";var s=a("26cb"),o=a.n(s);o.a},"80c1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("common-layout",[s("div",{staticClass:"top"},[s("div",{staticClass:"header"},[s("img",{staticClass:"logo",attrs:{alt:"logo",src:a("4ffd")}}),s("span",{staticClass:"title"},[e._v(e._s(e.systemName))])]),s("div",{staticClass:"desc"},[e._v("Watchdog 一款优秀的脚本任务调度中心")])]),s("div",{staticClass:"login"},[s("a-form",{attrs:{form:e.form},on:{submit:e.onSubmit}},[s("a-tabs",{staticStyle:{padding:"0 2px"},attrs:{size:"large",tabBarStyle:{textAlign:"center"}}},[s("a-tab-pane",{key:"1",attrs:{tab:"账户密码登录"}},[s("a-form-item",{attrs:{hidden:e.two}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入账户名",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: '请输入账户名', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"请输入账户名"}},[s("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),s("a-form-item",{attrs:{hidden:e.two}},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码",whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: '请输入密码', whitespace: true}]}]"}],attrs:{size:"large",placeholder:"请输入密码",autocomplete:"autocomplete",type:"password"}},[s("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),e.two?s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{rules:[{required:!0,message:"请输入二步验证code",whitespace:!0}]}],expression:"['code', {rules: [{ required: true, message: '请输入二步验证code', whitespace: true}]}]"}],attrs:{size:"large",placeholder:"请输入二步验证code",autocomplete:"autocomplete"}},[s("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1):e._e()],1)],1),s("div",[s("a-checkbox",{attrs:{checked:!1}},[e._v("自动登录")]),s("a",{staticStyle:{float:"right"}},[e._v("忘记密码")])],1),s("a-form-item",[s("a-button",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{loading:e.logging,size:"large",htmlType:"submit",type:"primary"}},[e._v("登录")])],1)],1)],1)])},o=[],r=a("5530"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-layout"},[a("div",{staticClass:"content"},[e._t("default")],2),a("page-footer",{attrs:{"link-list":e.footerLinks,copyright:e.copyright}})],1)},c=[],n=a("613e"),l=a("5880"),u={name:"CommonLayout",components:{PageFooter:n["a"]},computed:Object(r["a"])({},Object(l["mapState"])("setting",["footerLinks","copyright"]))},m=u,d=(a("6d14"),a("0c7c")),p=Object(d["a"])(m,i,c,!1,null,"1c265f57",null),g=p.exports,f=a("93d6"),h=a("b775"),v={name:"Login",components:{CommonLayout:g},data:function(){return{logging:!1,two:!1,form:this.$form.createForm(this)}},computed:{systemName:function(){return this.$store.state.setting.systemName}},methods:Object(r["a"])(Object(r["a"])({},Object(l["mapMutations"])("account",["setUser","setPermissions","setRoles"])),{},{onSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e){if(!e){t.logging=!0;var a=t.form.getFieldValue("name"),s=t.form.getFieldValue("password"),o=t.form.getFieldValue("code");Object(f["a"])(a,s,o).then(t.afterLogin).catch((function(){return t.logging=!1}))}}))},afterLogin:function(e){this.logging=!1;var t=e.data;200===t.code?(Object(h["g"])(t.data),this.$router.push("/log"),this.$message.success(t.message,3)):430===t.code?(this.two=!0,this.$message.success(t.message)):this.$message.error(t.message)}})},b=v,w=(a("64c2"),Object(d["a"])(b,s,o,!1,null,"67ee5db7",null)),y=w.exports;t["default"]=y}}]);