(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36b01930"],{"222f":function(e,t){e.exports={messages:{CN:{steps:{mysql:{title:"MySQL数据库配置",description:"仅支持5.7及以上的数据库版本"},user:{title:"登录账户配置",description:"建议使用较高的密码强度哦"},done:{title:"Done",description:"请耐心等待服务重启完毕"}},form:{data:{dataPath:"数据库地址",dataName:"数据库名称",userName:"数据库用户名",password:"数据库密码"},user:{username:"用户名",password:"密码",resPassword:"确认密码"}},input:"请输入",select:"请选择",submit:"提交"},HK:{},US:{}}}},"77cc":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-spin",{attrs:{spinning:e.isSubmit}},[a("a-card",[a("a-steps",{staticClass:"steps",attrs:{current:e.current}},[a("a-step",{attrs:{status:"finish",title:e.$t("steps.mysql.title"),description:e.$t("steps.mysql.description")}},[a("a-icon",{attrs:{slot:"icon",type:"database"},slot:"icon"})],1),a("a-step",{attrs:{status:"finish",title:e.$t("steps.user.title"),description:e.$t("steps.user.description")}},[a("a-icon",{attrs:{slot:"icon",type:"user"},slot:"icon"})],1),a("a-step",{attrs:{status:"wait",title:e.$t("steps.done.title"),description:e.$t("steps.done.description")}},[a("a-icon",{attrs:{slot:"icon",type:"smile-o"},slot:"icon"})],1)],1),a("div",{staticClass:"steps-content"},[0===e.current?a("a-form",{attrs:{form:e.form.data,layout:"vertical"}},[a("a-row",{attrs:{gutter:24,type:"flex",justify:"center",align:"middle"}},[a("a-col",{attrs:{md:13,sm:18}},[a("a-form-item",[a("template",{slot:"label"},[a("a-tooltip",{attrs:{placement:"right"}},[a("template",{slot:"title"},[e._v(" MySQL数据库地址 IP:端口号格式，例：192.168.33.45:3306 ")]),e._v(" "+e._s(e.$t("form.data.dataPath"))+" ")],2)],1),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataPath",{rules:[{required:!0,message:e.$ta("input|form.data.dataPath"),whitespace:!0}]}],expression:"['dataPath', {rules: [{required: true, message: $ta('input|form.data.dataPath'), whitespace: true}]}]"}],attrs:{placeholder:e.$ta("input|form.data.dataPath")}})],2)],1),a("a-col",{attrs:{md:13,sm:18}},[a("a-form-item",[a("template",{slot:"label"},[a("a-tooltip",{attrs:{placement:"right"}},[a("template",{slot:"title"},[e._v(" 数据库名称，如果不存在则需要先创建该数据库。 ")]),e._v(" "+e._s(e.$t("form.data.dataName"))+" ")],2)],1),a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["dataName",{rules:[{required:!0,message:e.$ta("input|form.data.dataName"),whitespace:!0}]}],expression:"['dataName', {rules: [{ required: true, message: $ta('input|form.data.dataName'), whitespace: true}]}]"}],attrs:{placeholder:e.$ta("input|form.data.dataName")}})],2)],1),a("a-col",{attrs:{md:13,sm:18}},[a("a-form-item",{attrs:{label:e.$t("form.data.userName")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{rules:[{required:!0,message:e.$ta("input|form.data.userName"),whitespace:!0}]}],expression:"['userName', {rules: [{ required: true, message: $ta('input|form.data.userName'), whitespace: true}]}]"}],attrs:{placeholder:e.$ta("input|form.data.userName")}})],1)],1),a("a-col",{attrs:{md:13,sm:18}},[a("a-form-item",{attrs:{label:e.$t("form.data.password")}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:e.$ta("input|form.data.password"),whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: $ta('input|form.data.password'), whitespace: true}]}]"}],attrs:{placeholder:e.$ta("input|form.data.password")}})],1)],1)],1)],1):e._e(),1===e.current?a("a-form",{attrs:{form:e.form.user,layout:"vertical"}},[a("a-row",{attrs:{gutter:24,type:"flex",justify:"center",align:"middle"}},[a("a-col",{attrs:{md:13,sm:18}},[a("a-form-item",{attrs:{label:e.$t("form.user.username")}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:e.$ta("input|form.user.username"),whitespace:!0}]}],expression:"['username', {rules: [{required: true, message: $ta('input|form.user.username'), whitespace: true}]}]"}],attrs:{placeholder:e.$ta("input|form.user.username")}})],1)],1),a("a-col",{attrs:{md:13,sm:18}},[a("a-form-item",{attrs:{label:e.$t("form.user.password")}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:e.$ta("input|form.user.password"),whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: $ta('input|form.user.password'), whitespace: true}]}]"}],attrs:{placeholder:e.$ta("input|form.user.password")}})],1)],1),a("a-col",{attrs:{md:13,sm:18}},[a("a-form-item",{attrs:{label:e.$t("form.user.resPassword")}},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["resPassword",{rules:[{required:!0,message:e.$ta("input|form.user.resPassword"),whitespace:!0}]}],expression:"['resPassword', {rules: [{ required: true, message: $ta('input|form.user.resPassword'), whitespace: true}]}]"}],attrs:{placeholder:e.$ta("input|form.user.resPassword")}})],1)],1)],1)],1):e._e()],1),a("a-row",{attrs:{gutter:24,type:"flex",justify:"center",align:"middle"}},[a("a-col",{attrs:{md:12}},[a("a-button",{attrs:{type:"primary",block:""},on:{click:function(t){return e.onSubmit(e.current)}}},[e._v(" "+e._s(e.$t("submit"))+" ")])],1)],1)],1)],1)],1)},r=[],i=(a("ac1f"),a("5319"),a("c3e4")),o={name:"Initialize",i18n:a("222f"),data:function(){return{current:0,form:{data:this.$form.createForm(this),user:this.$form.createForm(this)},isSubmit:!1}},methods:{onSubmit:function(e){var t=this;0===e?this.form.data.validateFields((function(e,a){e||(t.isSubmit=!0,Object(i["d"])(a).then((function(e){var a=e.data;if(200===a.code)t.$message.success(a.message),t.current++;else switch(a.code){case 450:t.$message.error("数据库不满足最低版本要求");break;case 500:t.$message.error("操作失败, 检查配置文件");break;case 1045:t.$message.error("数据库用户名或密码错误");break;case 1049:t.$message.error("数据库名称不存在");break;default:t.$message.error(a.message)}t.isSubmit=!1})).catch((function(e){t.$message.error(e.message),t.isSubmit=!1})))})):1===e&&this.form.user.validateFields((function(e,a){e||(a.password===a.resPassword?(t.isSubmit=!0,Object(i["e"])(a).then((function(e){var a=e.data;if(200===a.code)t.$message.success(a.message),t.current++,setTimeout((function(){t.isSubmit=!1,t.$router.replace("/loading")}),3e3);else switch(a.code){case 500:t.$message.error("操作失败, 检查配置文件");break;default:t.$message.error(a.message)}})).catch((function(e){t.$message.error(e.message),t.isSubmit=!1}))):t.$message.error("两次输入密码不一致"))}))}}},u=o,m=(a("7a0c"),a("0c7c")),d=Object(m["a"])(u,s,r,!1,null,"44d18e1c",null),n=d.exports;t["default"]=n},"78f4":function(e,t,a){},"7a0c":function(e,t,a){"use strict";var s=a("78f4"),r=a.n(s);r.a}}]);