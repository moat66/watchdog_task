webpackJsonp([2,0],{0:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var n=o(32),r=a(n),s=o(59);o(128);var i=o(139),l=a(i),c=o(33),u=a(c),d=o(131),f=a(d);o(127);var m=o(5),p=o(85),g=a(p);r.default.prototype.$http=u.default,r.default.component(s.Toast.name,s.Toast),r.default.component(s.Header.name,s.Header),r.default.component(s.Actionsheet.name,s.Actionsheet),r.default.component(s.TabContainer.name,s.TabContainer),r.default.component(s.TabContainerItem.name,s.TabContainerItem),r.default.component(s.Field.name,s.Field),r.default.component(s.Button.name,s.Button),r.default.use(f.default,{}),console.log(r.default.prototype.$Message),(0,m.loadInterceptors)(g.default,{message:r.default.prototype.$Message}),new r.default({el:"#app",template:"<App/>",components:{App:l.default}})},5:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.BEARER;switch(t){case E.BEARER:localStorage.setItem(I,e.token);break;case E.BASIC:case E.AUTH1:case E.AUTH2:}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.BEARER;switch(e){case E.BEARER:return localStorage.getItem(I);case E.BASIC:case E.AUTH1:case E.AUTH2:}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.BEARER;switch(e){case E.BEARER:localStorage.removeItem(I);break;case E.BASIC:case E.AUTH1:case E.AUTH2:}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.BEARER;switch(e){case E.BEARER:if(localStorage.getItem(I))return!0;break;case E.BASIC:case E.AUTH1:case E.AUTH2:}return!1}function l(e,t){var o=e.request,a=e.response;o.forEach(function(e){var o=e.onFulfilled,a=e.onRejected;o&&"function"==typeof o||(o=function(e){return e}),a&&"function"==typeof a||(a=function(e){return d.default.reject(e)}),M.default.interceptors.request.use(function(e){return o(e,t)},function(e){return a(e,t)})}),a.forEach(function(e){var o=e.onFulfilled,a=e.onRejected;o&&"function"==typeof o||(o=function(e){return e}),a&&"function"==typeof a||(a=function(e){return d.default.reject(e)}),M.default.interceptors.response.use(function(e){return o(e,t)},function(e){return a(e,t)})})}function c(e){var t={};if(!e||""===e||"string"!=typeof e)return t;var o=e.split("?")[1];if(!o)return t;for(var a=o.replace(/&|=/g," ").split(" "),n=0;n<a.length/2;n++){var r=a[2*n+1];t[a[2*n]]="true"===r||"false"!==r&&r}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getAuthorization=t.parseUrlParams=t.loadInterceptors=t.checkAuthorization=t.removeAuthorization=t.setAuthorization=t.request=t.AUTH_TYPE=t.METHOD=void 0;var u=o(22),d=a(u),f=o(14),m=a(f),p=o(88),g=a(p),h=o(13),v=a(h),w=function(){var e=(0,v.default)(m.default.mark(function e(t,o,a,n){return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=o,e.next=e.t0===y.GET?3:e.t0===y.POST?4:e.t0===y.PUT?5:e.t0===y.DELETE?6:7;break;case 3:return e.abrupt("return",M.default.get(t,(0,g.default)({params:a},n)));case 4:return e.abrupt("return",M.default.post(t,a,n));case 5:return e.abrupt("return",M.default.put(t,a,n));case 6:return e.abrupt("return",M.default.delete(t,(0,g.default)({data:a},n)));case 7:return e.abrupt("return",M.default.get(t,(0,g.default)({params:a},n)));case 8:case"end":return e.stop()}},e,this)}));return function(t,o,a,n){return e.apply(this,arguments)}}(),b=o(33),M=a(b),I="access-token";M.default.defaults.timeout=5e5,M.default.defaults.withCredentials=!0,M.default.defaults.xsrfHeaderName=I,M.default.defaults.xsrfCookieName=I;var E={BEARER:"Bearer",BASIC:"basic",AUTH1:"auth1",AUTH2:"auth2"},y={GET:"get",POST:"post",PUT:"put",DELETE:"delete"};t.METHOD=y,t.AUTH_TYPE=E,t.request=w,t.setAuthorization=n,t.removeAuthorization=s,t.checkAuthorization=i,t.loadInterceptors=l,t.parseUrlParams=c,t.getAuthorization=r},21:function(e,t){"use strict";var o="";e.exports={INIT:o+"/web/initial",MESSAGE:{BASE:o+"/web/message",ACK:o+"/web/ack"},USER:{BINDING:o+"/web/binding",CHANGE:o+"/web/change",LOGIN:o+"/web/login",LOGOUT:o+"/web/logout",REGISTER:o+"/web/register",RESET:o+"/web/reset",RESET_CODE:o+"/web/resetCode",USER_INFO:o+"/web/info"}}},43:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userInfo=t.resetCode=t.resetPass=t.register=t.logout=t.login=t.changePass=t.bindingEmail=t.getEmailCode=void 0;var n=o(14),r=a(n),s=o(13),i=a(s),l=(t.getEmailCode=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.BINDING+"?email="+t,c.METHOD.GET,t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.bindingEmail=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.BINDING,c.METHOD.PUT,t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.changePass=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.CHANGE,c.METHOD.PUT,t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.login=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.LOGIN,c.METHOD.POST,t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.logout=function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.LOGOUT,c.METHOD.GET));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.register=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.REGISTER,c.METHOD.POST,t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.resetPass=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.RESET,c.METHOD.PUT,t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.resetCode=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.RESET_CODE,c.METHOD.GET,t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.userInfo=function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.USER.USER_INFO,c.METHOD.GET));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o(21)),c=o(5)},61:function(e,t,o){e.exports=o.p+"static/img/default.dab64cb.png"},81:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(84),r=o(43),s=o(140),i=a(s),l=o(5),c="";t.default={name:"app",components:{ChatList:i.default},data:function(){return{codeUrl:c+"/web/graphCode?time="+(new Date).getTime(),codeMode:!1,loginModal:{show:!1,model:0,init:{},formItem:{webUsername:"",webPassword:"",email:"",reEmail:"",code:"",reCode:"",rePassword:"",reOldPassword:""},ruleValidate:{webUsername:[{required:!0,message:"输入用户名",trigger:"blur"}],webPassword:[{required:!0,message:"输入密码",trigger:"blur"}],email:[{required:!0,message:"输入绑定邮箱",trigger:"blur"}],reEmail:[{required:!0,message:"输入绑定的邮箱",trigger:"blur"}],code:[{required:!0,message:"输入接收的邮箱验证码",trigger:"blur"}],rePassword:[{required:!0,message:"输入重置密码",trigger:"blur"}],reOldPassword:[{required:!0,message:"再次确认重置密码",trigger:"blur"}]}}}},methods:{updateValue:function(e){this.loginModal.show=e},register:function(){this.loginModal.model=1},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e&&(0,r.login)({webUsername:t.loginModal.formItem.webUsername,webPassword:t.loginModal.formItem.webPassword}).then(function(e){var o=200!==e.data.code?"error":"success";t.$Message[o]({background:!0,content:e.data.message}),"success"===o&&((0,l.setAuthorization)(e.data.data),location.reload())}).catch(function(e){console.log(e)})})},submitRegister:function(e){var t=this;this.$refs[e].validate(function(e){e&&(0,r.register)({webUsername:t.loginModal.formItem.webUsername,webPassword:t.loginModal.formItem.webPassword,webEmail:t.loginModal.formItem.email}).then(function(e){var o=200!==e.data.code&&410!==e.data.code?"error":"success";t.$Message[o]({background:!0,content:e.data.message})}).catch(function(e){console.log(e)})})},submitResetPass:function(e){var t=this;this.$refs[e].validate(function(e){e&&(0,r.resetPass)({username:t.loginModal.formItem.webUsername,email:t.loginModal.formItem.reEmail,code:t.loginModal.formItem.code,newPass:t.loginModal.formItem.rePassword,verifyPass:t.loginModal.formItem.reOldPassword}).then(function(e){var o="error",a=e.data.message;200===e.data.code&&(o="success",a=e.data.data),t.$Message[o]({background:!0,content:a})}).catch(function(e){console.log(e)})})},getEmailCode:function(){var e=this;(0,r.resetCode)({username:this.loginModal.formItem.webUsername,email:this.loginModal.formItem.reEmail,code:this.loginModal.formItem.reCode}).then(function(t){var o="error",a=t.data.message;200===t.data.code?(o="success",a=t.data.data,e.codeMode=!1):e.updateCaptcha(),e.$Message[o]({background:!0,content:a})}).catch(function(e){console.log(e)})},updateCaptcha:function(){this.codeUrl=c+"/web/graphCode?time="+(new Date).getTime()},checkLogin:function(){(0,l.checkAuthorization)()||(this.loginModal.show=!0)}},mounted:function(){var e=this;this.checkLogin(),(0,n.getInit)().then(function(t){e.loginModal.init=t.data.data})},computed:{showRegisterLink:function(){return(0===this.loginModal.model||2===this.loginModal.model)&&this.loginModal.init.isEnableRegister},showLoginLink:function(){return 1===this.loginModal.model||2===this.loginModal.model},showForgetPasswordLink:function(){return(0===this.loginModal.model||1===this.loginModal.model)&&this.loginModal.init.isEnableMail}}}},82:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(86),r=a(n),s=o(43),i=(o(83),o(5)),l=o(59),c=void 0;t.default={name:"chatlist",data:function(){return{active:0,userInfo:void 0,content:"",topStatus:"",records:[],disableClear:!0,placeholder:"请输入消息",readonly:!1,limitSecond:0,sheetVisible:!1,actions:[{name:"退出登录",method:this.relogin},{name:"清空聊天记录",method:this.clearRecords},{name:"修改密码",method:this.toChangePass},{name:"绑定邮箱",method:this.toBindingEmail}],pass:{newPass:"",oldPass:"",verifyPass:""},email:{email:"",code:""}}},props:{init:Object},methods:{selfMessage:function(e){this.pushMessage(1,e),this.content=""},quantumMessage:function(e){this.pushMessage(2,e)},pushMessage:function(e,t){2===e&&this.records.some(function(e){return e.content.id===t.id&&e.content.timestamp===t.timestamp})||(this.records.push({type:e,content:t}),this.saveRecords(),this.scrollToBottom())},relogin:function(){this.disconnectWebSocket(),(0,s.logout)(),(0,i.removeAuthorization)(),window.location.reload()},toChangePass:function(){this.active=1},toBindingEmail:function(){this.active=2},clearRecords:function(){localStorage.removeItem("records"+this.userInfo.uid),this.records=[],this.quantumMessage({message:"当前聊天记录已清空！",type:"text",timestamp:Math.floor(Date.now()/1e3)})},sendMsg:function(){if(""===this.content)return void(0,l.Toast)("请输入消息");var e=this.content;return this.selfMessage({message:e,type:"text",timestamp:Math.floor(Date.now()/1e3)}),this.placeholder=(this.init.webMessageGet||5)+"秒后方可再次发起指令",this.readonly=!0,this.limitSecond=this.init.webMessageGet||5,this.changeLimitInfo(),this.userInfo||window.location.reload(),this.sendMessage(e),!1},connectWebSocket:function(){var e="https:"===window.location.protocol?"wss":"ws",t=window.location.host,o="/ws",a=e+"://"+t+o,n=(0,i.getAuthorization)(),r=this;c&&c.close(),c=new WebSocket(a,[n]),c.onopen=function(){console.log("WebSocket连接已打开")},c.onmessage=function(e){var t=JSON.parse(e.data);if("REPLY"===t.type){if(console.log("收到消息:",t),t=t.data,t&&t.length>0)for(var o=0;o<t.length;o++)t[o].message=t[o].message.replace(/\r/g,"<br>").replace(/\n/g,"<br>"),r.quantumMessage(t[o])}else"LOGOUT"===t.type&&r.relogin()},c.onclose=function(){console.log("WebSocket连接已关闭")},c.onerror=function(e){console.error("WebSocket发生错误",e)}},sendMessage:function(e){c&&c.readyState===WebSocket.OPEN?(c.send((0,r.default)({data:e,type:"SEND"})),console.log("消息已发送:",e)):console.error("WebSocket连接未打开")},disconnectWebSocket:function(){c&&c.close()},saveRecords:function(){localStorage.setItem("records"+this.userInfo.uid,(0,r.default)(this.records))},focusTxtContent:function(){document.querySelector("#txtContent input").focus()},scrollToBottom:function(){setTimeout(function(){var e=document.getElementsByClassName("chatlist")[0];e.scrollTop=e.scrollHeight},100)},handleTopChange:function(e){this.topStatus=e},changeLimitInfo:function(){var e=this;setTimeout(function(){e.limitSecond-=1,e.placeholder=e.limitSecond+"秒后方可再次发起指令",e.limitSecond>0?e.changeLimitInfo():(e.placeholder="请输入消息",e.readonly=!1)},1e3)},getUserInfo:function(){var e=this;(0,i.checkAuthorization)()&&(0,s.userInfo)().then(function(t){200===t.data.code?(e.userInfo=t.data.data,e.records=JSON.parse(localStorage.getItem("records"+e.userInfo.uid))||[],e.scrollToBottom()):401===t.data.code&&((0,i.removeAuthorization)(),e.$Message.error("登录状态已失效，请重新登录"),e.$emit("updateValue",!0))})},submitChangePass:function(){var e=this.pass,t=e.newPass,o=e.oldPass,a=e.verifyPass;return t||o||a?t!==a?void(0,l.Toast)("两次输入密码不一致"):void(0,s.changePass)(this.pass).then(function(e){(0,l.Toast)(e.data.message)}):void(0,l.Toast)("请补充表单")},getBindingEmailCode:function(){return this.email.email?void(0,s.getEmailCode)(this.email.email).then(function(e){(0,l.Toast)(e.data.message)}):void(0,l.Toast)("请输入邮箱")},submitBindingEmail:function(){var e=this.email,t=e.email,o=e.code;return t||o?void(0,s.bindingEmail)(this.email).then(function(e){(0,l.Toast)(e.data.message)}):void(0,l.Toast)("请补充表单")}},computed:{computedRecords:function(){return this.records.sort(function(e,t){return e.content.timestamp-t.content.timestamp})},getTitle:function(){switch(this.active){case 0:return this.userInfo?this.userInfo.webUsername:"watchdog";case 1:return"修改密码";case 2:return"绑定邮箱"}}},mounted:function(){this.getUserInfo(),this.connectWebSocket(),this.focusTxtContent()}}},83:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.saveMessage=t.getMessage=t.ackMessage=void 0;var n=o(14),r=a(n),s=o(13),i=a(s),l=(t.ackMessage=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.MESSAGE.ACK+"?ackId="+t,c.METHOD.PUT));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getMessage=function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.MESSAGE.BASE,c.METHOD.GET));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.saveMessage=function(){var e=(0,i.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.MESSAGE.BASE+"?message="+t,c.METHOD.POST));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o(21)),c=o(5)},84:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getInit=void 0;var n=o(14),r=a(n),s=o(13),i=a(s),l=(t.getInit=function(){var e=(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l.INIT,c.METHOD.GET));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o(21)),c=o(5)},85:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(22),r=a(n),s=o(5),i={onFulfilled:function(e,t){var o=t.message;return 401===e.code&&o.error("无此权限"),e},onRejected:function(e,t){var o=t.message,a=e.response;return 401===a.status&&o.error("无此权限"),r.default.reject(e)}},l={onFulfilled:function(e,t){var o=t.message;return 403===e.code&&o.error("请求被拒绝"),e},onRejected:function(e,t){var o=t.message,a=e.response;return 403===a.status&&o.error("请求被拒绝"),r.default.reject(e)}},c={onFulfilled:function(e,t){var o=(t.message,e.url),a=e.xsrfCookieName;o.indexOf("login")===-1&&a&&!(0,s.checkAuthorization)();var n=window.localStorage.getItem(a);return n&&(e.headers.token=n),e},onRejected:function(e,t){var o=t.message;return o.error(e.message),r.default.reject(e)}};t.default={request:[c],response:[i,l]}},127:function(e,t){},128:function(e,t){},129:function(e,t){},130:function(e,t){},137:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAIAAAAiOjnJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIyLTA0LTAzVDE5OjQ4OjMwKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMi0wNC0wM1QxOTo0OTozOSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMi0wNC0wM1QxOTo0OTozOSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1ZWNmNTY2MS05M2YxLTBjNDktOWJhOC1mN2JlZGVkNDNiOTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NWVjZjU2NjEtOTNmMS0wYzQ5LTliYTgtZjdiZWRlZDQzYjk0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWVjZjU2NjEtOTNmMS0wYzQ5LTliYTgtZjdiZWRlZDQzYjk0Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZWNmNTY2MS05M2YxLTBjNDktOWJhOC1mN2JlZGVkNDNiOTQiIHN0RXZ0OndoZW49IjIwMjItMDQtMDNUMTk6NDg6MzArMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6P1LcjAAALmUlEQVR4nO2da7ebthKGJXE1Bns76er//3ltV+ptzB0kOB/eE7Kbyz7JKWNkaZ5PWU1jxvhhJEY3WZalYJitUXsHwLgJi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkMCi8WQwGIxJLBYDAksFkNCuHcAtiOl/O5/X5blwZE8FyzWd5BSwqfVqrd6rUrhD8uysGTfwmJ9AT4ppbTWwzBorY0xy7LM84w/CCGUUkop/G9BEIRhGEVRGIbLZ/b+ErbAYn1hnudlWaSUfd93XTcMwzRNWut5niGZEAIyKaXCMAzDMEmSLMvSNMU//FG76SGST1hdhWiapqqqvu+naYJkb5MQ1PnqX0kpgyCIoihJkjzP8zwX3DgKIThjBUGAhq/v+7Zt27aFVd/2sdY/f9W1GsdxGAakt2EY0jRNkiSKIqi509faH85Yom3bsizLsjTGoP/0q58AgeZ5Vkqdz+fz+Xw8HqWULJaPBEEwjuOnT5/ath3HcZ5n8ePiws+w9u6jKMqy7LfffkuSBD0zD/G0KVRKoUd1v9/HcRRCBEHwLz8TUhpjtNZaa6XU6XQ6HA7Cy6KXp2JN03S73V5fX8UWSr1FKSWEMMb8/fffWuvff/89DH28yd4N6aBM9eeff9Z1Lf5d2/cO6GA1TfPHH3/0fb+tu0+BRw8T3uz6vi/LsqoqYwxp2QkGV1UVRZGU8nA4eFWG8EgsUJbl9XpFQYG6nom8dbvdlmVJ05T0WrbhS1OolDLG3O/3tm2Rqx5TJZdSGmO6rlvLGQ+4qA348j2XZRmG4fX1dRiGx199HMfX19eu6x5/6b3wQiwppda667r7/Y5CwCOvjmRZVRXK+p6MJ7ovFlq9tm3ruv7/CuubxKCUatu2aRpPxqrdF0sIMc8zxgH3+lEhVtd1TdN4Uot3XCwp5TzPGGOepmnfYLTWfd8Pw7AOcjuM42Kt/ZvHd63eCWaapt2DocbxryeEMMbUdW2DWCg91HXtQ2vouFj4LS1pfdAu932vtd49GGocF0trjYl7ewfyhWVZMONZkI1U2oCzYuEFENM7947la+yMalucFQtg0vDeUfwD6N73/d6B0OKyWCi4o8pgSaODMKZp2r32QY3LYgkhjDEWvoJhoaKwRncKHBdrnmereu7Azqi2xX2xqCf0/SqogFiYR7fFfbEszA2IyirdN8dxsaydDWxtYFvhuFjYw2PvKL7Gzqi2xfGvh/kqe0fxD7AHhG1RbY7jXw/1d9saHR/m+jku1l5TRt9n3WRr70AIcVwsbGdl20+ITdvc7r+7LNayLNgezbafEPsA7h0FLS6LJT5nrL2j+AL8DsPQ+UX3LNajWZbFwqg2x9mvh9wQRZGFjU4URXEc7x0FLY5nLPyEVlUcpJSr7vZEtTmOi4WdZ6MoUkrt/iuiNIp4uI/13GCsN8syvN7vGwx6V4fDIQgCC4fGt8VxsVBxKIoiDMPdf0vsfns6nVAB2TcYatwXSyl1PB5t6CxLKeM4Ph6PNqRPatwXC3v8Hw6HHffUw7kpaZqiHbTqZYIIx8UCy7IURXE+n/f6RXHRoihOp9Pjr74L7ouFLJWmaZ7nSZI8/vUQzTEC8GcnUvfFAvM8R1H04cOHx2/qb4zBpeM43v0F4mH4IpYQIggC5IxHDkvjtfRwOOR57vwwzlt8EQu9+DiO8zzHQTePuagQAlbZNgBAjUfP0LIsxpiiKKSUXdc9ZssXKeXLy8v5fPanEQS+ZKwV7OWPE5Sw5QsRWusoij5+/JhlmfMz3L/Fo4wFMK5yuVyot3xRSh0Oh48fP2IjP7oL2Yl3TxK67VLKoiheXl6EEJs3UrgEDi50fm77j/AuYwGMTM/z3HUdjpXbljAM8zzPssxPq4SHGQssy4LjKtfqw4afjBGkLMviOPakHPotnoolPs81yPMc5zdv+LFRFBVF4cPcmHfwWiwpJSpM22asKIryPFdKsViegpIpzhPc8DPDMIzj2MMSw1u8/vLizbyarT4Qq5y97Vqt+C6W+LwueatPC4LA81wF+BZ82aLjX+YY/HMfNvz4GXwXC2XxTXZWXndExiik53p5LRYOiZimacMhl3metdZaa/TetvrYp8NfsTCJpWmabU89lVJO0+TPuYQ/wl+xUGcqy7Lv+w3FUkqN43i73Ywxzq9KfQcfxwrRARqGoaoqpJYN3+Ow23bbtvf7HXUyP0sPnmasZVnKsrxer0RTsowxr6+vyFsUn28/fmUsZKZxHK/Xa13X4zhS9K/X18OyLLXWl8slyzIsLdz8WtbihVho+3A49DRNdV3f7/cHHJM0jiMy1jRNSZKse5P40DJ6IRZW9s3z3DTN7XZr2/YB8+/w+caY6/Xatu3lcsGuDaTzoe1BlmW5dwyEYJeEcRzrum6aZhzHcRwffNwItI6iKEmSLMswnwKiO5y63MxY60IrHITZ9/39fu+6Dr/xg+uWaIW7ruu6bhgGrTXmAGI7Z1fXhLkpFjDGlGVZliUWTew4NrxOoIDlSZKcTqeXlxfM2HFSLKeawnWEruu6qqratsWIDdo+GwZY0HNXSmFH7izLiqLIsmz9q70D3Ax3MhZaHJhUVVVVVX3fq8/sHd1/Wdu+cRzXllFrjZYRWc0NvRzJWMhGbdui7UPFyIYU9T5wSCmFtWhY++9Gueu5xUI2wqBv0zToquN93n6rANwKgiBJkiRJsLUEFg49tWHP2hSiQUE7gh5VXdeoRj7X0O/bc+3RKdRaHw4HVFM3mYG4C0+ZsdBTMcZUVXW73bqu23YgeUfWXdoul0ue59hX8hlT1zOJBZ+UUsMwoODZ9z1e+sTztH3vs/a6cPTB8XgsiiJJkuUzewf4szxNU4hStdYaPSpUE+Z5xjO9d3Sbge8yz3Pbtm3bYrQRm7ahoPosbj1HxkKBEYnqer32fS9cSVHvA42SJLlcLkVRpGlqjHkKt2wXCz2neZ7RPe/7fhgGewqeD2Ddi/BwOKBlxNuJ5R0ve5vCdXYAXpfKsmzbFvN93ein/yRo/tq2RTHFGJNl2Xoaj7XZy96MBXvqur7dbmuQnmSp74LUNc/z6XTCO6PNW7pZmrHQo8Kc9LZtcU99tkq8mbKBG9L3/el0Qq9r79C+g6ViYbzver0Ow4Adp/aOyArwdGmtq6oahgHvNHZ2DKyLCZN3P336dL1eMSedrfqKdSDrer3+9ddfWmsLb5FdGWtd7VnXNZ5Iz5u/98HM2CRJhBBRFFnVkbcrY63L/aZp8nyJ+v8EN0drXdd113W2PYQWibUO1zRNw/2qnwG9K8zr2juWr7FILKC1HsfRqqxuM5gz+JhTNn4J68Sy7QbZj50PoXViMb+KnY8ii8WQwGIxJLBYDAksFkMCi8WQYKNYdr7mWIudt8susXAQTZqmwvoZkjaAClYcx9seB7QJFg1CYxUKlqZgsbxtN8tCgiA4Ho94FK3CIrGEEPM8p2m6zh3FZKy9g7IUKWWSJMfj8eXlJU1T2xK8XWIJIZRSSZKcz+c4jjlpvU8cx2ma4lG07UZZOucdScvObqk9QCbbchWwLmMBLPCy7Slkfh5LxRK2DtozP4ld5QbGGVgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYElgshgQWiyGBxWJIYLEYEv4D+1retgqAVbIAAAAASUVORK5CYII="},139:function(e,t,o){o(130);var a=o(62)(o(81),o(142),null,null);e.exports=a.exports},140:function(e,t,o){o(129);var a=o(62)(o(82),o(141),null,null);e.exports=a.exports},141:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("mt-header",{attrs:{fixed:"",title:e.getTitle}},[0!==e.active?a("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){e.active=0}},slot:"left"},[e._v("返回")]):e._e(),e._v(" "),a("mt-button",{attrs:{slot:"right",icon:"more"},on:{click:function(t){e.sheetVisible=!0}},slot:"right"})],1),e._v(" "),a("mt-actionsheet",{attrs:{actions:e.actions},model:{value:e.sheetVisible,callback:function(t){e.sheetVisible=t},expression:"sheetVisible"}}),e._v(" "),0===e.active?a("section",{staticClass:"chatlist"},[a("ul",[e._l(e.computedRecords,function(t){return[1===t.type?a("li",{staticClass:"chat-mine"},[a("div",{staticClass:"chat-user"},[e.userInfo.webPortrait?a("img",{attrs:{src:e.userInfo.webPortrait}}):a("img",{attrs:{src:o(137)}})]),e._v(" "),e._m(0,!0),e._v(" "),a("div",{staticClass:"chat-text",domProps:{innerHTML:e._s(t.content.message)}})]):e._e(),e._v(" "),2===t.type?a("li",{key:t.content.id},[e._m(1,!0),e._v(" "),e._m(2,!0),e._v(" "),a("div",{staticClass:"chat-text",domProps:{innerHTML:e._s(t.content.message)}})]):e._e()]})],2)]):e._e(),e._v(" "),a("mt-tab-container",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("mt-tab-container-item",{attrs:{id:0}},[a("section",{staticClass:"foot"},[a("form",{attrs:{submit:"return false;"}},[a("mt-field",{staticClass:"con",attrs:{id:"txtContent",placeholder:e.placeholder,disableClear:e.disableClear,readonly:e.readonly},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMsg.apply(null,arguments)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),e._v(" "),a("mt-field",{staticStyle:{display:"none"}}),e._v(" "),a("span",{staticClass:"btn btn-send",on:{click:e.sendMsg}},[e._v("发送")])],1)])]),e._v(" "),a("mt-tab-container-item",{attrs:{id:1}},[a("div",{staticStyle:{"margin-top":"40px"}},[a("mt-field",{attrs:{label:"原密码",placeholder:"请输入原密码",type:"password",disableClear:""},model:{value:e.pass.oldPass,callback:function(t){e.$set(e.pass,"oldPass",t)},expression:"pass.oldPass"}}),e._v(" "),a("mt-field",{attrs:{label:"新密码",placeholder:"请输入新密码",type:"password",disableClear:""},model:{value:e.pass.newPass,callback:function(t){e.$set(e.pass,"newPass",t)},expression:"pass.newPass"}}),e._v(" "),a("mt-field",{attrs:{label:"确认新密码",placeholder:"请确认新密码",type:"password",disableClear:""},model:{value:e.pass.verifyPass,callback:function(t){e.$set(e.pass,"verifyPass",t)},expression:"pass.verifyPass"}}),e._v(" "),a("Button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",long:""},on:{click:e.submitChangePass}},[e._v("修改密码")])],1)]),e._v(" "),a("mt-tab-container-item",{attrs:{id:2}},[a("div",{staticStyle:{"margin-top":"40px"}},[a("mt-field",{attrs:{label:"邮箱",placeholder:"请输入邮箱",type:"email",disableClear:""},model:{value:e.email.email,callback:function(t){e.$set(e.email,"email",t)},expression:"email.email"}}),e._v(" "),a("mt-field",{attrs:{placeholder:"请输入验证码",disableClear:""},model:{value:e.email.code,callback:function(t){e.$set(e.email,"code",t)},expression:"email.code"}},[a("mt-button",{attrs:{type:"default"},on:{click:e.getBindingEmailCode}},[e._v("获取验证码")])],1),e._v(" "),a("Button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",long:""},on:{click:e.submitBindingEmail}},[e._v("绑定邮箱")])],1)])],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"time"},[o("cite")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat-user"},[a("img",{attrs:{src:o(61)}})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"time"},[o("cite")])}]}},142:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.loginModal.show?e._e():a("ChatList",{attrs:{init:e.loginModal.init},on:{updateValue:e.updateValue}}),e._v(" "),a("Modal",{staticStyle:{overflow:"hidden"},attrs:{"footer-hide":!0,"mask-closable":!1,closable:!1,fullscreen:!0},model:{value:e.loginModal.show,callback:function(t){e.$set(e.loginModal,"show",t)},expression:"loginModal.show"}},[a("div",{staticClass:"login",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"card",attrs:{padding:30}},[a("img",{staticStyle:{width:"auto",height:"70px",display:"block",margin:"0 auto"},attrs:{alt:"logo",src:o(61)}}),e._v(" "),0===e.loginModal.model?a("div",{staticStyle:{"font-size":"14px",color:"#808695","text-align":"center",padding:"20px"}},[e._v("用户登录\n        ")]):1===e.loginModal.model?a("div",{staticStyle:{"font-size":"14px",color:"#808695","text-align":"center",padding:"20px"}},[e._v("\n          用户注册\n        ")]):2===e.loginModal.model?a("div",{staticStyle:{"font-size":"14px",color:"#808695","text-align":"center",padding:"20px"}},[e._v("\n          重置密码\n        ")]):e._e(),e._v(" "),a("Form",{ref:"loginForm",attrs:{model:e.loginModal.formItem,rules:e.loginModal.ruleValidate,"label-width":0}},[a("FormItem",{key:1,attrs:{prop:"webUsername"}},[a("Input",{attrs:{size:"large",placeholder:"请输入用户名"},model:{value:e.loginModal.formItem.webUsername,callback:function(t){e.$set(e.loginModal.formItem,"webUsername",t)},expression:"loginModal.formItem.webUsername"}},[a("Icon",{attrs:{slot:"prefix",type:"ios-contact"},slot:"prefix"})],1)],1),e._v(" "),0===e.loginModal.model||1===e.loginModal.model?a("FormItem",{key:2,attrs:{prop:"webPassword"}},[a("Input",{attrs:{size:"large",placeholder:"请输入密码",type:"password",password:""},model:{value:e.loginModal.formItem.webPassword,callback:function(t){e.$set(e.loginModal.formItem,"webPassword",t)},expression:"loginModal.formItem.webPassword"}},[a("Icon",{attrs:{slot:"prefix",type:"ios-lock"},slot:"prefix"})],1)],1):e._e(),e._v(" "),1===e.loginModal.model&&this.loginModal.init.isEnableMail?a("FormItem",{key:3,attrs:{prop:"email"}},[a("Input",{attrs:{size:"large",placeholder:"请输入邮箱"},model:{value:e.loginModal.formItem.email,callback:function(t){e.$set(e.loginModal.formItem,"email",t)},expression:"loginModal.formItem.email"}},[a("Icon",{attrs:{slot:"prefix",type:"ios-mail"},slot:"prefix"})],1)],1):e._e(),e._v(" "),2===e.loginModal.model?a("FormItem",{key:3,attrs:{prop:"reEmail"}},[a("Input",{attrs:{size:"large",placeholder:"请输入绑定的邮箱"},model:{value:e.loginModal.formItem.reEmail,callback:function(t){e.$set(e.loginModal.formItem,"reEmail",t)},expression:"loginModal.formItem.reEmail"}},[a("Icon",{attrs:{slot:"prefix",type:"ios-mail"},slot:"prefix"})],1)],1):e._e(),e._v(" "),2===e.loginModal.model?a("FormItem",{key:4,attrs:{prop:"code"}},[a("Input",{attrs:{size:"large",placeholder:"请输入邮箱验证码"},model:{value:e.loginModal.formItem.code,callback:function(t){e.$set(e.loginModal.formItem,"code",t)},expression:"loginModal.formItem.code"}},[a("Icon",{attrs:{slot:"prefix",type:"ios-mail-open"},slot:"prefix"}),e._v(" "),a("Button",{attrs:{slot:"append"},on:{click:function(t){e.codeMode=!0}},slot:"append"},[e._v("获取验证码")])],1)],1):e._e(),e._v(" "),2===e.loginModal.model?a("FormItem",{key:5,attrs:{prop:"rePassword"}},[a("Input",{attrs:{size:"large",placeholder:"请输入密码",type:"password",password:""},model:{value:e.loginModal.formItem.rePassword,callback:function(t){e.$set(e.loginModal.formItem,"rePassword",t)},expression:"loginModal.formItem.rePassword"}},[a("Icon",{attrs:{slot:"prefix",type:"ios-unlock"},slot:"prefix"})],1)],1):e._e(),e._v(" "),2===e.loginModal.model?a("FormItem",{key:6,attrs:{prop:"reOldPassword"}},[a("Input",{attrs:{size:"large",placeholder:"请再次输入密码",type:"password",password:""},model:{value:e.loginModal.formItem.reOldPassword,callback:function(t){e.$set(e.loginModal.formItem,"reOldPassword",t)},expression:"loginModal.formItem.reOldPassword"}},[a("Icon",{attrs:{slot:"prefix",type:"ios-lock"},slot:"prefix"})],1)],1):e._e()],1),e._v(" "),e.loginModal.init.isEnableRegister||e.loginModal.init.isEnableMail?a("div",{staticClass:"flexBetween"},[e.showRegisterLink?a("p",{attrs:{size:"large",type:"text"},on:{click:e.register}},[e._v("没账号？注册一个？")]):e._e(),e._v(" "),e.showLoginLink?a("p",{attrs:{size:"large",type:"text"},on:{click:function(t){e.loginModal.model=0;
}}},[e._v("有账号，去登录")]):e._e(),e._v(" "),e.showForgetPasswordLink?a("p",{attrs:{size:"large",type:"text"},on:{click:function(t){e.loginModal.model=2}}},[e._v("忘记密码？")]):e._e()]):e._e(),e._v(" "),0===e.loginModal.model?a("Button",{staticClass:"loginButton",attrs:{type:"primary",size:"large"},on:{click:function(t){return e.handleSubmit("loginForm")}}},[e._v("登录\n        ")]):1===e.loginModal.model?a("Button",{staticClass:"loginButton",attrs:{type:"primary",size:"large"},on:{click:function(t){return e.submitRegister("loginForm")}}},[e._v("注册\n        ")]):2===e.loginModal.model?a("Button",{staticClass:"loginButton",attrs:{type:"primary",size:"large"},on:{click:function(t){return e.submitResetPass("loginForm")}}},[e._v("重置\n        ")]):e._e()],1)])]),e._v(" "),a("Modal",{attrs:{"mask-closable":!1,width:"360"},scopedSlots:e._u([{key:"header",fn:function(){return[a("p",{staticStyle:{"text-align":"center"}},[a("Icon",{attrs:{type:"ios-information-circle"}}),e._v(" "),a("span",[e._v("图形验证码")])],1)]},proxy:!0},{key:"footer",fn:function(){return[a("Button",{attrs:{type:"success",size:"large",long:""},on:{click:e.getEmailCode}},[e._v("确认")])]},proxy:!0}]),model:{value:e.codeMode,callback:function(t){e.codeMode=t},expression:"codeMode"}},[e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("Row",{attrs:{justify:"center",align:"middle",gutter:24}},[a("Col",{attrs:{span:"15"}},[a("Input",{attrs:{size:"large",placeholder:"请输入邮箱验证码"},model:{value:e.loginModal.formItem.reCode,callback:function(t){e.$set(e.loginModal.formItem,"reCode",t)},expression:"loginModal.formItem.reCode"}},[a("Icon",{attrs:{slot:"prefix",type:"ios-ionic"},slot:"prefix"})],1)],1),e._v(" "),a("Col",{attrs:{span:"9"}},[a("img",{attrs:{src:e.codeUrl},on:{click:e.updateCaptcha}})])],1)],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.5f057d6c349b97dc9cb3.js.map